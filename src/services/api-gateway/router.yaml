# The composed (federated) schema the Router serves
supergraph:
  schema:
    from: /etc/router/supergraph.graphql
homepage:
  enabled: true

include_subgraph_errors:
  all: true

cors:
  allow_any_origin: true

authentication:
  jwt:
    jwks:
      - url: http://keycloak:8080/realms/Smart-Street/protocol/openid-connect/certs
    issuer: http://keycloak:8080/realms/Smart-Street
    audience: account


headers:
  all:
    request:
      - propagate:
          named: authorization
      - add:
          named: x-user-id
          value: '{jwt.claims.sub}'
      - add:
          named: x-user-roles
          value: '{jwt.claims.realm_access.roles}'

routing:
  timeout: 2s

telemetry:
  metrics:
    prometheus:
      enabled: true
  tracing:
    otlp:
      enabled: false
